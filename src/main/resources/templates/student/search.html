<th:block th:replace="~{common/header :: header}"></th:block>

<div class="container" style="margin-top: 20px; padding: 20px;">
    <h1 style="text-align: center; margin-bottom: 20px;">K-MOOC 전체 강의 목록</h1>

    <table class="table" style="width: 100%; border-collapse: collapse; table-layout: fixed;">
        <colgroup>
            <col style="width: 6%;">  
            <col style="width: 6%;">  
            <col style="width: auto;"> 
            <col style="width: 6%;"> 
            <col style="width: 15%;"> 
            <col style="width: 13%;"> 
            <col style="width: 4%;">   
            <col style="width: 6%;">  
            <col style="width: 6%;">  
        </colgroup>
        <thead>
            <tr style="background-color: #f2f2f2;">
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">사이트</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">분류</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">강의명</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">강의링크</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">기관명</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">교수진</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">주차</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">개강일</th>
                <th style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;">종강일</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="course : ${courses}">
                <td style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;" th:text="${course.site}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;" th:text="${course.category}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" th:text="${course.name}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; text-align: center;">
                    <a th:href="${course.url}" class="link-button" target="_blank">바로가기</a>
                </td>
                <td style="padding: 8px; border: 1px solid #ddd; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;" th:text="${course.orgName}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                    <th:block th:with="professors=${#strings.arraySplit(course.professor, ',')}">
                        <span th:text="${professors.length > 0 ? professors[0] : ''}"></span>
                        <span th:if="${professors.length > 1}" th:text="',' + ${professors[1]}"></span>
                        <span th:if="${professors.length > 2}" th:text="',' + ${professors[2]}"></span>
                        <span th:if="${professors.length > 3}"> ...</span>
                    </th:block>
                </td>
                <td style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;" th:text="${course.courseWeek}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;" th:text="${course.studyStart != null ? #strings.substring(course.studyStart, 2, 10) : ''}"></td>
                <td style="padding: 8px; border: 1px solid #ddd; white-space: nowrap;" th:text="${course.studyEnd != null ? #strings.substring(course.studyEnd, 2, 10) : ''}"></td>
            </tr>
        </tbody>
    </table>
    <div th:if="${courses == null or courses.isEmpty()}" style="text-align: center; padding: 20px;">
        <p>표시할 강의 데이터가 없습니다.</p>
    </div>
</div> 