<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>마이페이지</title>
    
    <link rel="stylesheet" href="/css/common/mypage.css">
</head>
<body>
    <!-- ✅ 공통 헤더 (Fragment Include) -->
    <th:block th:replace="~{common/header :: header}"></th:block>

    <div class="mypage-container">
        <h2>마이페이지</h2>

        <!-- 내 정보 수정 -->
        <form method="post" action="/mypage">
            <div class="section">
                <!-- <div class="section-title"><span class="icon">📌</span> 내 정보 수정</div> -->

                <div class="form-row">
                    <label>아이디</label>
                    <input type="text" th:value="${user.id}" readonly>
                </div>

                <div class="form-row">
                    <label>이름</label>
                    <input type="text" name="name" th:value="${user.name}">
                </div>

                <div class="form-row">
                    <label>역할</label>
                    <input type="text" th:value="${user.role}" readonly>
                </div>

                <div class="form-row">
                    <label>핸드폰번호</label>
                    <input type="text" name="phone" th:value="${user.phone}">
                </div>

                <div class="form-row">
                    <label>이메일</label>
                    <input type="email" name="email" th:value="${user.email}">
                </div>

                <div class="form-row">
                    <label>성별</label>
                    <select name="gender">
                        <option th:selected="${user.gender == null}" value="">선택</option>
                        <option th:selected="${user.gender == 'M'}" value="M">남성</option>
                        <option th:selected="${user.gender == 'F'}" value="F">여성</option>
                    </select>
                </div>

                <div class="form-row">
                    <label>생년월일</label>
                    <input type="date" name="birth" th:value="${user.birth}">
                </div>

                <div class="form-row">
                    <label>기존 비밀번호</label>
                    <input type="password" name="oldPassword">
                </div>

                <div class="form-row">
                    <label>새 비밀번호</label>
                    <input type="password" name="newPassword">
                </div>

                <button class="button" type="submit">정보 수정</button>
            </div>
        </form>


        <div th:if="${msg != null}" th:text="${msg}" class="msg"></div>
    </div>
</body>
</html> 